function action_sidebar(){$("body").hasClass("sidebar-collapse")||$("body").hasClass("sidebar-open")?(window.innerWidth,$.post("./app/includes/js_controller.php",{function:"sidebar",setup:1}),$("body").removeClass("sidebar-collapse"),$("body").removeClass("sidebar-open")):1026<window.innerWidth?($.post("./app/includes/js_controller.php",{function:"sidebar",setup:0}),$("body").removeClass("sidebar-open"),$("body").addClass("sidebar-collapse")):($.post("./app/includes/js_controller.php",{function:"sidebar",setup:1}),$("body").removeClass("sidebar-collapse"),$("body").addClass("sidebar-open"))}function action_treeview(){$(".treeview-menu").hasClass("menu-open")?($(".treeview-menu").removeClass("menu-open"),$(".treeview-menu").slideUp()):($(".treeview-menu").addClass("menu-open"),$(".treeview-menu").slideDown())}function dark_mode(){var t=$.ajax({type:"POST",url:"./app/includes/js_controller.php",data:{function:"sessions",data:"dark_mode"},dataType:"text",global:!1,async:!1,success:function(t){return t}}).responseText,e=$.ajax({type:"POST",url:"./app/includes/js_controller.php",data:{function:"options",setup:"theme"},dataType:"text",global:!1,async:!1,success:function(t){return t}}).responseText;if(0==t){var n="./storage/assets/css/themes/"+e+"/dark_mode_palette.json",o=$.ajax({type:"GET",url:n.split('"').join(""),success:function(t){return t},dataType:"json",global:!1,async:!1,cache:!0}).responseText,a=$.parseJSON(o);for(var i in $.post("./app/includes/js_controller.php",{function:"dark_mode",setup:"1"}),a)document.documentElement.style.setProperty(i,a[i])}else if(1==t){n="./storage/assets/css/themes/"+e+"/original_palette.json",o=$.ajax({type:"GET",url:n.split('"').join(""),success:function(t){return t},dataType:"json",global:!1,async:!1,cache:!0}).responseText,a=JSON.parse(o);for(var i in $.post("./app/includes/js_controller.php",{function:"dark_mode",setup:"0"}),a)document.documentElement.style.setProperty(i,a[i])}}function SaveInStorage(t,e){"undefined"!=typeof Storage&&sessionStorage.setItem(t,e)}function LoadFromStorage(t){return"undefined"!=typeof Storage?sessionStorage.getItem(t):""}!function(_,g,t,n){function o(t,e){return t[e]===n?T[e]:t[e]}function y(){var t=g.pageYOffset;return t===n?C.scrollTop:t}function w(t,e){var n=T["on"+t];n&&(S(n)?n.call(e[0]):(n.addClass&&e.addClass(n.addClass),n.removeClass&&e.removeClass(n.removeClass))),e.trigger("lazy"+t,[e]),l()}function b(t){w(t.type,_(this).off(j,b))}function e(t){if(I.length){t=t||T.forceLoad,x=1/0;var e,n,o=y(),a=g.innerHeight||C.clientHeight,i=g.innerWidth||C.clientWidth;for(e=0,n=I.length;e<n;e++){var s,r=I[e],c=r[0],l=r[$],d=!1,u=t||E(c,A)<0;if(_.contains(C,c)){if(t||!l.visibleOnly||c.offsetWidth||c.offsetHeight){if(!u){var f=c.getBoundingClientRect(),p=l.edgeX,m=l.edgeY;u=(s=f.top+o-m-a)<=o&&f.bottom>-m&&f.left<=i+p&&f.right>-p}if(u){r.on(j,b),w("show",r);var h=l.srcAttr,v=S(h)?h(r):c.getAttribute(h);v&&(c.src=v),d=!0}else s<x&&(x=s)}}else d=!0;d&&(E(c,A,0),I.splice(e--,1),n--)}n||w("complete",_(C))}}function a(){1<f?(f=1,e(),setTimeout(a,T.throttle)):f=0}function l(t){I.length&&(t&&"scroll"===t.type&&t.currentTarget===g&&x>=y()||(f||setTimeout(a,0),f=2))}function i(){c.lazyLoadXT()}function s(){e(!0)}var $="lazyLoadXT",A="lazied",j="load error",r="lazy-hidden",C=t.documentElement||t.body,T={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:g.onscroll===n||!!g.operamini||!C.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:r},onload:{removeClass:r,addClass:"lazy-loaded"},onerror:{removeClass:r},checkDuplicates:!0},d={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},c=_(g),S=_.isFunction,u=_.extend,E=_.data||function(t,e){return _(t).data(e)},I=[],x=0,f=0;_[$]=u(T,d,_[$]),_.fn[$]=function(a){var t,i=o(a=a||{},"blankImage"),s=o(a,"checkDuplicates"),e=o(a,"scrollContainer"),r=o(a,"show"),c={};for(t in _(e).on("scroll",l),d)c[t]=o(a,t);return this.each(function(t,e){if(e===g)_(T.selector).lazyLoadXT(a);else{var n=s&&E(e,A),o=_(e).data(A,r?-1:1);if(n)return void l();i&&"IMG"===e.tagName&&!e.src&&(e.src=i),o[$]=u({},c),w("init",o),I.push(o),l()}})},_(t).ready(function(){w("start",c),c.on(T.updateEvent,l).on(T.forceEvent,s),_(t).on(T.updateEvent,l),T.autoInit&&(c.on(T.loadEvent,i),i())})}(window.jQuery||window.Zepto||window.$,window,document),function(r){var n=r.lazyLoadXT;n.selector+=",video,iframe[data-src]",n.videoPoster="data-poster",r(document).on("lazyshow","video",function(t,e){var a=e.lazyLoadXT.srcAttr,i=r.isFunction(a),s=!1;e.attr("poster",e.attr(n.videoPoster)),e.children("source,track").each(function(t,e){var n=r(e),o=i?a(n):n.attr(a);o&&(n.attr("src",o),s=!0)}),s&&this.load()})}(window.jQuery||window.Zepto||window.$),0!=avatar&&$.post("./app/includes/js_controller.php",{function:"avatars",data:avatar},function(t){for(var e=0;e<avatar.length;e++)document.getElementById(avatar[e]).setAttribute("src","storage/cache/img/avatars/"+avatar[e]+".jpg")});var notifications={},nonot=!0;function PlaySound(t){new Audio(t).play()}function main_notifications_icon_adjust(t,e){return 0!=t?($("#main_notifications_badge").html(t),$("#main_notifications_badge").show(),!0):($("#main_notifications").html(e),$("#main_notifications_badge").html(!1),$("#main_notifications_badge").hide(),!1)}var main_notifications_cooldown=!1;function main_notifications_refresh(){$.ajax({type:"POST",url:window.location.href,data:{entryid:1},success:function(t){if(IsJsonString(t)){var e=jQuery.parseJSON(t);SaveInStorage("notifications_count",e.count),nonot=!main_notifications_icon_adjust(e.count,e.no_notifications)||(nonot&&$("#main_notifications").html(""),e.notifications.forEach(function(t){notifications.hasOwnProperty(t.id)||($("#main_notifications").prepend(t.html),notifications[t.id]=!0,0==t.seen&&0==main_notifications_cooldown&&(main_notifications_cooldown=!0,setTimeout(function(){main_notifications_cooldown=!1},3e3),PlaySound("storage/assets/sounds/Knock.mp3")))}),!1)}}})}function main_notifications_load(){var t=LoadFromStorage("notifications_count");$.isNumeric(t)&&main_notifications_icon_adjust(t),main_notifications_refresh(),setInterval(main_notifications_refresh,3e4)}function main_notifications_chek(t){$.ajax({type:"POST",url:window.location.href,data:{notific:t},success:function(){main_notifications_refresh()}})}function IsJsonString(t){try{JSON.parse(t)}catch(t){return!1}return!0}main_notifications_load();